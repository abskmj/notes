<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>Deploy a NodeJS application using Git :: Notes</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Remote Repository on Deployment Server Create two folders named project.git and project.source. Create a bare git repo in project.git
git init --bare Configure project.source as working folder for source code by adding below to project.git/hooks/post-receive
#!/bin/sh git --work-tree=/{{path}}/project.source --git-dir=/{{path}}/project.git checkout -f Change file persion to 755 to make it executable.
chmod 755 project.git/hooks/post-receive Add a remote to local repo
git remote add dev git&#43;ssh://{{user}}@{{server}}/{{path}}/project.git Above steps are generic to any kind of project as it simply transfers the code to the server." />
<meta name="keywords" content="" />
<meta name="robots" content="noodp" />
<link rel="canonical" href="https://abskmj.github.io/notes/posts/tutorials/git/deploy-nodejs-git/" />




<link rel="stylesheet" href="https://abskmj.github.io/notes/assets/style.css">

  <link rel="stylesheet" href="https://abskmj.github.io/notes/assets/green.css">






<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://abskmj.github.io/notes/img/apple-touch-icon-144-precomposed.png">

  <link rel="shortcut icon" href="https://github.com/abskmj.png">



<meta name="twitter:card" content="summary" />

  
    <meta name="twitter:site" content="" />
  
    <meta name="twitter:creator" content="" />



<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Deploy a NodeJS application using Git :: Notes">
<meta property="og:description" content="Remote Repository on Deployment Server Create two folders named project.git and project.source. Create a bare git repo in project.git
git init --bare Configure project.source as working folder for source code by adding below to project.git/hooks/post-receive
#!/bin/sh git --work-tree=/{{path}}/project.source --git-dir=/{{path}}/project.git checkout -f Change file persion to 755 to make it executable.
chmod 755 project.git/hooks/post-receive Add a remote to local repo
git remote add dev git&#43;ssh://{{user}}@{{server}}/{{path}}/project.git Above steps are generic to any kind of project as it simply transfers the code to the server." />
<meta property="og:url" content="https://abskmj.github.io/notes/posts/tutorials/git/deploy-nodejs-git/" />
<meta property="og:site_name" content="Deploy a NodeJS application using Git" />

  
    <meta property="og:image" content="https://github.com/abskmj.png">
  

<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">


  <meta property="article:published_time" content="2018-05-09 05:09:36 &#43;0000 UTC" />









<meta name="google-site-verification" content="f4QUPyqBnCYP57-SME_dv0q-Di8xwBAOMIhlBGeVWJY" />


<script async src=" https://www.googletagmanager.com/gtag/js?id=G-CMVNGMLVMF">
</script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() { dataLayer.push(arguments); }
  gtag('js', new Date());

  gtag('config', 'G-CMVNGMLVMF');
</script>

</head>
<body class="green">


<div class="container center headings--one-size">

  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a href="/notes">
  <div class="logo">
    Notes
  </div>
</a>

    </div>
    <div class="menu-trigger">menu</div>
  </div>
  
    <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="https://github.com/abskmj">Github</a></li>
        
      
        
          <li><a href="https://twitter.com/abskmj">Twitter</a></li>
        
      
      
    

    
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="https://github.com/abskmj">Github</a></li>
      
    
      
        <li><a href="https://twitter.com/abskmj">Twitter</a></li>
      
    
    
  </ul>
</nav>

  
</header>


  <div class="content">
    
<div class="post">
  <h1 class="post-title">
    <a href="https://abskmj.github.io/notes/posts/tutorials/git/deploy-nodejs-git/">Deploy a NodeJS application using Git</a></h1>
  <div class="post-meta">
    
      <span class="post-date">
        2018-05-09 
      </span>
    
    
  </div>

  
  <span class="post-tags">
    
    #<a href="https://abskmj.github.io/notes/tags/tutorial/">Tutorial</a>&nbsp;
    
    #<a href="https://abskmj.github.io/notes/tags/hugo/">Hugo</a>&nbsp;
    
    #<a href="https://abskmj.github.io/notes/tags/git/">Git</a>&nbsp;
    
    #<a href="https://abskmj.github.io/notes/tags/deployment/">Deployment</a>&nbsp;
    
    #<a href="https://abskmj.github.io/notes/tags/git-hook/">Git Hook</a>&nbsp;
    
  </span>
  

  

  

  <div class="post-content"><div>
        <h1 id="remote-repository-on-deployment-server">Remote Repository on Deployment Server<a href="#remote-repository-on-deployment-server" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<p>Create two folders named <code>project.git</code> and <code>project.source</code>. Create a bare git repo in <code>project.git</code></p>
<pre><code>git init --bare
</code></pre><p>Configure <code>project.source</code> as working folder for source code by adding below to <code>project.git/hooks/post-receive</code></p>
<pre><code>#!/bin/sh
git --work-tree=/{{path}}/project.source --git-dir=/{{path}}/project.git checkout -f
</code></pre><p>Change file persion to <code>755</code> to make it executable.</p>
<pre><code>chmod 755 project.git/hooks/post-receive
</code></pre><p>Add a remote to local repo</p>
<pre><code>git remote add dev git+ssh://{{user}}@{{server}}/{{path}}/project.git
</code></pre><p>Above steps are generic to any kind of project as it simply transfers the code to the server. The latest version of the source code will be available in the working folder after each push.</p>
<pre><code>git push dev master
</code></pre><h1 id="deployment-using-hooks">Deployment using Hooks<a href="#deployment-using-hooks" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<p>Steps to install dependencies, build, test, deploy can be added to the <code>post-receive</code> hook script which will be executed every time the source code is pushed.</p>
<pre><code>#!/bin/sh
git --work-tree=/{{path}}/project.source --git-dir=/{{path}}/project.git checkout -f

# Steps to build and deploy nodejs application
cd /{{path}}/project.source
npm install
npm run build
pm2 restart node_app
</code></pre>
      </div></div>

  
  
<div class="pagination">
    <div class="pagination__title">
        <span class="pagination__title-h">Read other posts</span>
        <hr />
    </div>
    <div class="pagination__buttons">
        
        <span class="button previous">
            <a href="https://abskmj.github.io/notes/posts/tutorials/maven/maven-proxy/">
                <span class="button__icon">←</span>
                <span class="button__text">Set Proxy for Maven</span>
            </a>
        </span>
        
        
        <span class="button next">
            <a href="https://abskmj.github.io/notes/posts/topics/rest-api/authentication-jwt-rest-apis/">
                <span class="button__text">Authenticate REST APIs using JWT</span>
                <span class="button__icon">→</span>
            </a>
        </span>
        
    </div>
</div>

  

  <div class="pagination">
  <div class="pagination__title">
    <span class="pagination__title-h">Discuss Post</span>
    <hr>
  </div>
  <div class="pagination__buttons">
    <span class="button next">
      <a href="https://github.com/abskmj/notes/issues/new?title=Deploy%20a%20NodeJS%20application%20using%20Git&labels=comment">
        <span class="button__text">Comment</span>
        <span class="button__icon">→</span>
      </a>
    </span>
    <span class="button next">
      <a href="https://github.com/abskmj/notes/tree/master/content/posts/tutorials/git/deploy-nodejs-git.md">
        <span class="button__text">Edit at Github</span>
        <span class="button__icon">→</span>
      </a>
    </span>

  </div>
</div>
</div>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright copyright--user">
        <span>&copy; 2017 abskmj</span>
    
        <span>:: Theme made by <a href="https://twitter.com/panr">panr</a></span>
      </div>
  </div>
</footer>

<script src="https://abskmj.github.io/notes/assets/main.js"></script>
<script src="https://abskmj.github.io/notes/assets/prism.js"></script>





  
</div>

</body>
</html>
